<!-- <h2>Template driven form</h2>
<form (ngSubmit)="submitNgForm()" #form="ngForm">

  <mat-form-field class="field">
    <mat-label>Name</mat-label>
    <input matInput [(ngModel)]="product.name" name="name" placeholder="" required minlength="3" #name>
  </mat-form-field>

  <mat-form-field class="field">
    <mat-label>Price</mat-label>
    <input matInput placeholder="">
  </mat-form-field>

  <button mat-raised-button color="primary" [disabled]="form.invalid">Add</button>

</form> -->

<h2>Product reactive form</h2>

<form [formGroup]="productForm" (ngSubmit)="submitFormGroup()">

  <mat-form-field class="field">
    <mat-label>Name</mat-label>
    <!-- syntaxe complete [bind]="'string'"  -->
    <input matInput type="text" [formControlName]="'name'">
  </mat-form-field>
  <ng-container *ngIf="productForm.controls['name'].touched">
    <span *ngIf="productForm.controls['name'].errors?.['required']">Champ requis</span>
    <span *ngIf="productForm.controls['name'].errors?.['minLength']">Au moins 3 caractères</span>
  </ng-container>
  <!-- <ul *ngIf="productForm.controls['name'].invalid && productForm.controls['name'].touched">
    <li *ngIf="productForm.controls['name'].hasError('required')">Champ requis</li>
    <li *ngIf="productForm.controls['name'].hasError('min')">Au moins 3 caractères</li>
  </ul> -->

  <mat-form-field class="field">
    <mat-label>Price</mat-label>
    <!-- syntaxe raccourcie bind="string" -->
    <input matInput type="number" formControlName="price">
  </mat-form-field>

  <button mat-raised-button color="primary" [disabled]="!productForm.valid">Add</button>

</form>
